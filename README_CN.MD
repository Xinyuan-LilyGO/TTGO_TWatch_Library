<h1 align = "center">ğŸŒŸLilyGO T-WatchğŸŒŸ</h1>


[![PlatformIO CI](https://github.com/Xinyuan-LilyGO/TTGO_TWatch_Library/actions/workflows/platformio.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/TTGO_TWatch_Library/actions/workflows/platformio.yml)
[![Arduino_CI](https://github.com/Xinyuan-LilyGO/TTGO_TWatch_Library/actions/workflows/arduino_ci.yml/badge.svg?branch=t-watch-s3)](https://github.com/Xinyuan-LilyGO/TTGO_TWatch_Library/actions/workflows/arduino_ci.yml)

**[English](README.MD) | ä¸­æ–‡**

## News:
- å½“å‰`T-Watch-Lib` ä»…ä»…é€‚é…äº†`T-Watch S3` ç‰ˆæœ¬,esp32ç‰ˆæœ¬è®¡åˆ’æ”¯æŒ

## 1ï¸âƒ£ PlatformIO Quick Start <æ¨è>

1. å®‰è£…[VisualStudioCode](https://code.visualstudio.com/) å’Œ [Python](https://www.python.org/)
2. åœ¨`VisualStudioCode`æ‰©å±•ä¸­æœç´¢`PlatformIO`æ’ä»¶å¹¶å®‰è£….
3. å®‰è£…å®Œæˆåéœ€è¦å°†`VisualStudioCode`é‡æ–°å¯åŠ¨
4. é‡æ–°å¼€å¯`VisualStudioCode`å,é€‰æ‹© `VisualStudioCode` å·¦ä¸Šè§’çš„ `æ–‡ä»¶` -> `æ‰“å¼€æ–‡ä»¶å¤¹` ->é€‰æ‹© `TTGO_TWatch_Library` ç›®å½•
5. ç­‰å¾…å®‰è£…ç¬¬ä¸‰æ–¹ä¾èµ–åº“å®‰è£…å®Œæˆ
6. ç‚¹å‡» `platformio.ini` æ–‡ä»¶,åœ¨`platformio` æ ç›®ä¸­å–æ¶ˆéœ€è¦ä½¿ç”¨çš„ç¤ºä¾‹è¡Œ,è¯·ç¡®ä¿ä»…ä»…ä¸€è¡Œæœ‰æ•ˆ
7. ç‚¹å‡»å·¦ä¸‹è§’çš„ï¼ˆâœ”ï¼‰ç¬¦å·ç¼–è¯‘
8. å°†æ¿å­ä¸ç”µè„‘USBè¿›è¡Œè¿æ¥
9. ç‚¹å‡»ï¼ˆâ†’ï¼‰ä¸Šä¼ å›ºä»¶
10. ç‚¹å‡» (æ’å¤´ç¬¦å·) ç›‘è§†ä¸²è¡Œè¾“å‡º


## 2ï¸âƒ£ Arduino IDE Quick Start

1. å®‰è£… [ArduinoIDE](https://www.arduino.cc/en/software)
2. å®‰è£… `Arduino ESP32 2.0.9`
   ![InstallArduino](./images/InstallArduino.jpg)
   * **è¯·ä½¿ç”¨ 2.0.9 ï¼Œæ–°ç‰ˆæœ¬å˜æ›´è¿‡å¤§ï¼Œç›®å‰è¿˜æ²¡æœ‰åšé€‚é…**
3. å®‰è£… [TTGO_TWatch_Library](https://github.com/Xinyuan-LilyGO/TTGO_TWatch_Library)
4. å®‰è£… [T-Watch-Deps](https://github.com/Xinyuan-LilyGO/T-Watch-Deps)
   - å°†[T-Watch-Deps](https://github.com/Xinyuan-LilyGO/T-Watch-Deps)é‡Œçš„æ‰€æœ‰ç›®å½•æ‹·è´åˆ° `<C:\Users\UserName\Documents\Arduino\libraries>`,å¦‚æœæ²¡æœ‰`libraries`ç›®å½•,è¯·æ–°å»º.
   - è¯·æ³¨æ„,ä¸æ˜¯æ‹·è´`T-Watch-Deps`ç›®å½•,è€Œæ˜¯æ‹·è´`T-Watch-Deps`ç›®å½•é‡Œé¢çš„æ–‡ä»¶å¤¹åˆ°<libraries>
   - è¯·æ³¨æ„,å½“å‰ç¬¬ä¸‰æ–¹åº“ä»…ä»…åªæœ‰<TFT_eSPI>è¿›è¡Œäº†[é¢„é…ç½®](https://github.com/Xinyuan-LilyGO/T-Watch-Deps/blob/be311130018708903d5ed1e524b73d670a2e18f1/TFT_eSPI/User_Setup_Select.h#L143),å½“å‡çº§äº†<TFT_eSPI>ä¹‹åä½ éœ€è¦é‡æ–°å°†<extras/Setup212_LilyGo_T_Watch_S3.h>ç§»åŠ¨åˆ°<TFT_eSPI/User_Setups>ç›®å½•å†…,å¹¶ä¸”åœ¨[TFT_eSPI/User_Setup_Select.h](https://github.com/Xinyuan-LilyGO/T-Watch-Deps/blob/be311130018708903d5ed1e524b73d670a2e18f1/TFT_eSPI/User_Setup_Select.h#L143)ä¸­æ·»åŠ `#include <User_Setups/Setup212_LilyGo_T_Watch_S3.h>`
5. æ‰“å¼€ArduinoIDE -> Tools 
   - Board -> ESP32S3 Dev Module
   - USB CDC On Boot -> Enable   # æ³¨æ„ï¼Œåœ¨ä¸è¿æ¥USBçš„æ—¶å€™ä½ éœ€è¦å°†Enableæ”¹ä¸ºDisableï¼Œè¿™æ ·USB CDC ä¸ä¼šé˜»æ­¢æ¿å­çš„å¯åŠ¨
   - CPU Frequency -> 240MHz
   - USB DFU On Boot -> Disable
   - Flash Mode -> QIO 80MHz
   - Flash Size -> 16MB(128Mb)
   - USB Firmware MSC On Boot -> Disable
   - PSRAM -> OPI PSRAM
   - Partition Scheme -> 16M Flash(3MB APP/9.9MB FATFS)
   - USB Mode -> Hardware CDC and JIAG
   - Upload Mode -> UART0/Hardware CDC
   - Upload Speed -> 921600
5. æ’å…¥USBåˆ°PC,ç‚¹å‡»ä¸Šä¼ <å¦‚æœæ— æ³•é¡ºåˆ©ä¸Šä¼ ,è¯·æŸ¥çœ‹ä¸‹æ–¹FAQ>


<h2 align = "left">4ï¸âƒ£ Example Source </h2>

- **display ç›®å½•**  ç¤ºä¾‹æ¥æºäº  [TFT_eSPI](https://github.com/Bodmer/TFT_eSPI/tree/master/examples) 
- **lvgl ç›®å½•** ç¤ºä¾‹æ¥æºäº  [lvgl](https://github.com/lvgl/lvgl/tree/master/examples)  
- **radio ç›®å½•** ç¤ºä¾‹æ¥æºäº  [RadioLib](https://github.com/jgromes/RadioLib/tree/master/examples/SX126x) 
- **peripheral ç›®å½•** ç¤ºä¾‹æ¥æºäº [XPowersLib](https://github.com/lewisxhe/XPowersLib/tree/master/examples) & [SensorsLib](https://github.com/lewisxhe/SensorsLib/tree/master/examples) 


<h2 align = "left">5ï¸âƒ£ ESP32 basic examples </h2>

- [BLE Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/BLE)
- [WiFi Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/WiFi)
- [SPIFFS Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/SPIFFS)
- [OTA Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/ArduinoOTA)
- [FFat Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/FFat)
- æ›´å¤šesp32ç¤ºä¾‹,è¯·åœ¨è¿™é‡ŒæŸ¥çœ‹ [arduino-esp32-libraries](https://github.com/espressif/arduino-esp32/tree/master/libraries)


<h2 align = "left">6ï¸âƒ£ FAQ </h2>

1. æ— æ³•ä¸Šä¼ ç¤ºä¾‹
   1. ç¡®ä¿T-Watchå·²ç»å¼€æœº,å¯ä»¥æŒ‰ç…§ä¸‹é¢æ–¹æ³•è¿›è¡ŒæŸ¥çœ‹,æ‰“å¼€ç”µè„‘è®¾å¤‡ç®¡ç†å™¨,æŸ¥çœ‹ç«¯å£ï¼Œæ’å…¥USBç«¯å£åˆ°ç”µè„‘ï¼Œæ˜¾ç¤ºäº†æ–°çš„COMè®¾å¤‡ï¼Œåˆ™å·²ç»å¼€æœºï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºï¼Œåˆ™æŒ‰å‹è¡¨å† ä¸Šçš„æŒ‰é”®ä¸€ç§’ï¼Œç„¶åä¼šå¼¹å‡ºè®¾å¤‡ç«¯å£,æ­¤æ—¶ç‚¹å‡»ä¸Šä¼ 

2. USBç«¯å£åœ¨ç”µè„‘ä¸­ä¸æ–­é—ªç°
* è¿™æ˜¯ç¨‹åºè¿è¡Œå¼‚å¸¸,æˆ–è€…æ˜¯é€‰æ‹©äº†é”™è¯¯çš„é…ç½®,esp32ä¸æ–­é‡å¯å¯¼è‡´çš„ç°è±¡,è¿™æ—¶åªèƒ½å°†æ‰‹è¡¨æ‰‹åŠ¨è¿›å…¥ä¸‹è½½æ¨¡å¼æ‰èƒ½è§£å†³ä¸èƒ½ä¸Šä¼ çš„é—®é¢˜
è¯·éµé¡¼ä¸‹é¢çš„æ­¥éª¤æ“ä½œ
  1. æ‹†å¼€åç›–
  2. æ’å…¥Micro-USB
  3. æ‰“å¼€Windowsè®¾å¤‡ç®¡ç†å™¨
  4. é•¿æŒ‰æ‰‹è¡¨è¡¨å† ,ç›´åˆ° Windows COM ç«¯å£ä¸­ä¸å‡ºç° USB çš„è®¾å¤‡
  5. æŒ‰å‹ä¸‹å›¾æŒ‰é”®ä¿æŒæŒ‰å‹
   ![](./images/BUTTON.jpg)
  6. æŒ‰å‹è¡¨å† æŒ‰é’®ä¸€ç§’
  7. æ­¤æ—¶COMç«¯å£åˆ™å›ºå®š
  8. ArduinoIDE ä¸­é€‰æ‹©Port
  9.  ç‚¹å‡»ä¸Šä¼ 


3. åœ¨å“ªé‡ŒæŸ¥è¯¢å¼•è„šå®šä¹‰?
   1. çœ‹[è¿™é‡Œ](./src/utilities.h)
4. ä¸Šä¼ è‰å›¾ä¹‹åå±å¹•æ²¡æœ‰æ˜¾ç¤º?
   1. è¯·æŸ¥çœ‹[Arduino IDE Quick Start]()ç¬¬å››è¡Œ
5. ç”µæºåŸŸ
   | Power Domain | Role                          |
   | ------------ | ----------------------------- |
   | ALDO1        | RTC backup battery (3.1-3.3v) |
   | ALDO2        | Backlight                     |
   | ALDO3        | 3V3 for FT6336 and st7889     |
   | ALDO4        | SX1262                        |
   | BLDO2        | DRV2605 Enable pin            |
   | DC1          | ESP32 3V3                     |
   | VRTC         | Nothing                       |

